<script>
  function initScrollReveal() {

    const items = document.querySelectorAll(".work-item");

    const observer = new IntersectionObserver((entries, obs) => {
      entries.forEach(entry => {

        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
          obs.unobserve(entry.target);
        }

      });
    }, {
      threshold: 0.3,
      rootMargin: "0px 0px -20% 0px"
    });

    items.forEach(item => observer.observe(item));
  }

  document.addEventListener("DOMContentLoaded", initScrollReveal);
  document.addEventListener("astro:page-load", initScrollReveal);
  
</script>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const user = "alan.aguirrej"; // cambia esto
    const domain = "proton.me";  // cambia esto
    const email = `${user}@${domain}`;

    const link = document.getElementById("email-link");
    if (link) {
      link.href = `mailto:${email}`;
      link.textContent = email;
    }
  });
</script>
